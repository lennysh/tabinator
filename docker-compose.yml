version: '3.8'
services:
  web:
    # Build the image from the Dockerfile in the current directory
    build: .
    container_name: tabinator
    ports:
      - "8080:8080" # The Node.js server runs on port 8080
    volumes:
      # Mount the 'app' directory to persist links.yaml changes
      # This ensures that when the server writes to /usr/src/app/app/links.yaml,
      # it's actually writing to the ./app/links.yaml file on your host machine.
      - ./app:/usr/src/app/app
    restart: unless-stopped
    security_opt:
      - no-new-privileges:true
